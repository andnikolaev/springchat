user.new.add=INSERT INTO ALL_USER (NAME, PASSWORD, ROLE_ID, STATUS_ID) VALUES (?,?,?,?)
user.update=UPDATE ALL_USER SET NAME = ?, ROLE_ID=?, STATUS_ID=? WHERE ID=?
user.get.by.id=SELECT * FROM ALL_USER WHERE ID=?
user.get.by.name=SELECT * FROM ALL_USER WHERE NAME=?
user.get.by.name.and.password=SELECT * FROM ALL_USER WHERE NAME=? AND PASSWORD = ?

event.send=INSERT INTO EVENT (owner_id,ASSIGNEE_ID,event_type_id,message,ip) VALUES(?,?,?,?,?)
event.get.by.id=SELECT EVENT.*, AU_OWNER.NAME OWNER_NAME, AU_ASSIGNEE.NAME ASSIGNEE_NAME, AU_OWNER.ROLE_ID OWNER_ROLE FROM EVENT INNER JOIN ALL_USER AU_OWNER on EVENT.OWNER_ID = AU_OWNER.ID LEFT JOIN ALL_USER AU_ASSIGNEE on AU_ASSIGNEE.ID = EVENT.ASSIGNEE_ID  WHERE EVENT.ID = ?
event.get.last.n=SELECT * FROM (SELECT EVENT.*, AU_OWNER.NAME OWNER_NAME, AU_ASSIGNEE.NAME ASSIGNEE_NAME, AU_OWNER.ROLE_ID OWNER_ROLE FROM EVENT INNER JOIN ALL_USER AU_OWNER on EVENT.OWNER_ID = AU_OWNER.ID LEFT JOIN ALL_USER AU_ASSIGNEE on AU_ASSIGNEE.ID = EVENT.ASSIGNEE_ID ORDER BY EVENT.TIME_STAMP desc) WHERE (ROWNUM<=?) ORDER BY TIME_STAMP asc
event.get.last.n.by.type=SELECT * FROM (SELECT EVENT.*, AU_OWNER.NAME OWNER_NAME, AU_ASSIGNEE.NAME ASSIGNEE_NAME, AU_OWNER.ROLE_ID OWNER_ROLE FROM EVENT INNER JOIN ALL_USER AU_OWNER on EVENT.OWNER_ID = AU_OWNER.ID LEFT JOIN ALL_USER AU_ASSIGNEE on AU_ASSIGNEE.ID = EVENT.ASSIGNEE_ID WHERE EVENT_TYPE_ID = ? ORDER BY EVENT.TIME_STAMP desc) WHERE (ROWNUM<=?) ORDER BY TIME_STAMP asc
event.get.last.by.owner.id=SELECT * FROM (SELECT EVENT.*, AU_OWNER.NAME OWNER_NAME, AU_ASSIGNEE.NAME ASSIGNEE_NAME, AU_OWNER.ROLE_ID OWNER_ROLE FROM EVENT INNER JOIN ALL_USER AU_OWNER on EVENT.OWNER_ID = AU_OWNER.ID LEFT JOIN ALL_USER AU_ASSIGNEE on AU_ASSIGNEE.ID = EVENT.ASSIGNEE_ID WHERE EVENT.OWNER_ID = ? AND EVENT.EVENT_TYPE_ID BETWEEN 1 AND 4 ORDER BY EVENT.TIME_STAMP desc) WHERE (ROWNUM<=1)
event.get.last.by.assignee.id=SELECT * FROM (SELECT EVENT.*, AU_OWNER.NAME OWNER_NAME, AU_ASSIGNEE.NAME ASSIGNEE_NAME, AU_OWNER.ROLE_ID OWNER_ROLE FROM EVENT INNER JOIN ALL_USER AU_OWNER on EVENT.OWNER_ID = AU_OWNER.ID LEFT JOIN ALL_USER AU_ASSIGNEE on AU_ASSIGNEE.ID = EVENT.ASSIGNEE_ID WHERE EVENT.ASSIGNEE_ID = ? AND EVENT.EVENT_TYPE_ID BETWEEN 5 AND 7 ORDER BY EVENT.TIME_STAMP desc) WHERE (ROWNUM<=1)
